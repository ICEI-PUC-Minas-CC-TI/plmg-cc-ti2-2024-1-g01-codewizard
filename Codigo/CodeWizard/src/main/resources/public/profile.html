<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Perfil</title>

   <!-- font awesome cdn link  -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

   <!-- custom css file link  -->
   <link rel="stylesheet" href="style.css">
   <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>
<body>

<header class="header">
   
   <section class="flex">

      <a href="home.html" class="logo">Code Wizard..</a>

      <form action="search.html" method="post" class="search-form">
         <input type="text" name="search_box" required placeholder="pesquise cursos..." maxlength="100">
         <button type="submit" class="fas fa-search"></button>
      </form>

      <div class="icons">
         <div id="menu-btn" class="fas fa-bars"></div>
         <div id="search-btn" class="fas fa-search"></div>
         <div id="user-btn" class="fas fa-user"></div>
         <div id="toggle-btn" class="fas fa-sun"></div>
		 <div id="logout-btn" class="fa fa-sign-out"></div>
      </div>

	  <div class="profile">
	  	<img src="images/pic-1.jpg" class="image" alt="">
	  	  <h3 class="name" id="userName">Carregando...</h3>
	  	  <p class="role" id="userRole">Carregando...</p>
	  	  <a href="profile.html" class="btn">Ver Perfil</a>
	          <div class="flex-btn">
	             <a href="login.html" class="option-btn">login</a>
	             <a href="register.html" class="option-btn">cadastre-se</a>
	          </div>
	       </div>

   </section>

</header>   

<div class="side-bar">

   <div id="close-btn">
      <i class="fas fa-times"></i>
   </div>

   <div class="profile">
         <img src="images/pic-1.jpg" class="image" alt="">
   	  <h3 class="name" id="username">Carregando...</h3>
   	  <p class="role" id="userrole">Carregando...</p>
   	  <a href="profile.html" class="btn">Ver Perfil</a>
      </div>
   
      <nav class="navbar">
           <a href="home.html"><i class="fas fa-home"></i><span>home</span></a>
           <a href="login.html"><i class="fas fa-graduation-cap"></i><span>login</span></a>
        	<a href="quiz2.html"><i class="fa-solid fa-pencil"></i><span>quiz</span></a>
   		<a href="gallery.html"><i class="fa fa-video-camera"></i><span>vídeos</span></a>
   		<a href="caderno.html"><i class="fa fa-book"></i><span>caderno</span></a>
           <a href="teachers.html"><i class="fas fa-chalkboard-user"></i><span>professores</span></a>
           <a href="contact.html"><i class="fas fa-headset"></i><span>entre em contato</span></a>
        </nav>

</div>

<section class="user-profile">

   <h1 class="heading">Seu Perfil </h1>

   <div class="info">

      <div class="user">
         <img src="images/fotoperfil2.jpg" alt="">
         <h3>Henrique Moura</h3>
         <p>Estudante</p>
         <a href="#" class="inline-btn">Sair</a>
		 <a href="#" class="btn" id="upload-btn">Upload de Vídeo</a>
		 <input type="file" id="video-upload" style="display:none;" accept="video/*">
      </div>
   
      <div class="box-container">
   
   
         <div class="box">
            <div class="flex">
               <i class="fas fa-heart"></i>
               <div>
                  <span>33</span>
                  <p>Vídeos curtidos</p>
               </div>
            </div>

         </div>
   
         <div class="box">
            <div class="flex">
               <i class="fas fa-comment"></i>
               <div>
                  <span>12</span>
                  <p>Comentários</p>
               </div>
            </div>
           
         </div>
   
      </div>
   </div>

</section>














<footer class="footer">
   <div class="container-footer">
      <div class="row-footer">
        <!-- footer col-->
        <div class="footer-col">
          <h4>Empresa</h4>
          <ul>
            <li><a href="#"> Quem somos </a></li>
            <li><a href=""> nossos serviços </a></li>
            <li><a href=""> política de privacidade </a></li>
            <li><a href=""> programa de afiliados</a></li>
          </ul>
        </div>
        <!--end footer col-->
        <!-- footer col-->
        <div class="footer-col">
          <h4>Obter ajuda</h4>
          <ul>
            <li><a href="contact.html">FAQ</a></li>
            <li><a href="contact.html">Quero ser professor</a></li>
            <li><a href="contact.html">Como utilizar a plataforma</a></li>
          </ul>
        </div>
        <!--end footer col-->
        <!-- footer col-->
        <div class="footer-col">
          <h4>Loja online</h4>
          <ul>
            <li><a href="contact.html">Destaques</a></li>
            <li><a href="contact.html">Catálogo completo</a></li>
            <li><a href="contact.html">Cadastre-se</a></li>
            <li><a href="contact.html">Endereço</a></li>
          </ul>
        </div>
        <!--end footer col-->
        <!-- footer col-->
        <div class="footer-col">
          <h4>Inscreva-se para novidades!</h4>
          <div class="form-sub">
            <form>
              <input type="email" placeholder="Digite o seu e-mail" required>
              <button>inscrever-se</button>
            </form>
          </div>
  
          <div class="medias-socias">
            <a href="#"> <i class="fa fa-facebook"></i> </a>
            <a href="https://www.instagram.com/ohenrique.moura/"> <i class="fa fa-instagram"></i> </a>
            <a href="https://twitter.com/ohenriquemoura"> <i class="fa fa-twitter"></i> </a>
            <a href="https://www.linkedin.com/in/henrique-moura-7362a520b/"> <i class="fa fa-linkedin"></i> </a>
            <a href="https://github.com/ohenriquemoura"> <i class="fa fa-github"></i> </a>
          </div>
  
        </div>
        <!--end footer col-->
      </div>
   
 
</footer>

<!-- custom js file link  -->
<script >
	let toggleBtn = document.getElementById('toggle-btn');
	let body = document.body;
	let darkMode = localStorage.getItem('dark-mode');
	
	const enableDarkMode = () =>{
	   toggleBtn.classList.replace('fa-sun', 'fa-moon');
	   body.classList.add('dark');
	   localStorage.setItem('dark-mode', 'enabled');
	}
	
	const disableDarkMode = () =>{
	   toggleBtn.classList.replace('fa-moon', 'fa-sun');
	   body.classList.remove('dark');
	   localStorage.setItem('dark-mode', 'disabled');
	}
	
	if(darkMode === 'enabled'){
	   enableDarkMode();
	}
	
	toggleBtn.onclick = (e) =>{
	   darkMode = localStorage.getItem('dark-mode');
	   if(darkMode === 'disabled'){
	      enableDarkMode();
	   }else{
	      disableDarkMode();
	   }
	}
	
	let profile = document.querySelector('.header .flex .profile');
	
	document.querySelector('#user-btn').onclick = () =>{
	   profile.classList.toggle('active');
	   search.classList.remove('active');
	}
	
	let search = document.querySelector('.header .flex .search-form');
	
	document.querySelector('#search-btn').onclick = () =>{
	   search.classList.toggle('active');
	   profile.classList.remove('active');
	}
	
	let sideBar = document.querySelector('.side-bar');
	
	document.querySelector('#menu-btn').onclick = () =>{
	   sideBar.classList.toggle('active');
	   body.classList.toggle('active');
	}
	
	document.querySelector('#close-btn').onclick = () =>{
	   sideBar.classList.remove('active');
	   body.classList.remove('active');
	}
	
	window.onscroll = () =>{
	   profile.classList.remove('active');
	   search.classList.remove('active');
	
	   if(window.innerWidth < 1200){
	      sideBar.classList.remove('active');
	      body.classList.remove('active');
	   }
	}
	document.getElementById('upload-btn').onclick = function() {
	    document.getElementById('video-upload').click(); // Abre o seletor de arquivo quando o botão é clicado
	};
	
	document.getElementById('video-upload').onchange = function(event) {
	    const file = event.target.files[0];
	    const formData = new FormData();
	    formData.append('video', file);
	
	    axios.post('/upload', formData, {
	        headers: {
	            'Content-Type': 'multipart/form-data'
	        }
	    })
	    .then(response => alert('Upload successful: ' + response.data))
	    .catch(error => alert('Upload failed: ' + error.response.data));
	};

</script>

   
</body>
</html>